var Lr=Object.defineProperty;var Ur=(t,e,r)=>e in t?Lr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ot=(t,e,r)=>Ur(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();const qe=!1;var ye=Array.isArray,Br=Array.prototype.indexOf,ge=Array.from,Ze=Object.defineProperty,st=Object.getOwnPropertyDescriptor,tr=Object.getOwnPropertyDescriptors,Vr=Object.prototype,Yr=Array.prototype,we=Object.getPrototypeOf;const Ot=()=>{};function Hr(t){return t()}function ue(t){for(var e=0;e<t.length;e++)t[e]()}const j=2,er=4,Vt=8,me=16,G=32,pt=64,Tt=128,q=256,kt=512,k=1024,K=2048,ft=4096,H=8192,Yt=16384,Wr=32768,Ht=65536,Gr=1<<19,rr=1<<20,Z=Symbol("$state"),Kr=Symbol("legacy props");function nr(t){return t===this.v}function zr(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function ir(t){return!zr(t,this.v)}function Jr(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Qr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Xr(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Zr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function tn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function en(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function rn(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function nn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Wt=!1,on=!1;function un(){Wt=!0}const sn=1,ln=2,an=16,fn=2,I=Symbol();let A=null;function Fe(t){A=t}function Gt(t,e=!1,r){A={p:A,c:null,e:null,m:!1,s:t,x:null,l:null},Wt&&!e&&(A.l={s:null,u:null,r1:[],r2:N(!1)})}function Kt(t){const e=A;if(e!==null){const u=e.e;if(u!==null){var r=w,n=g;e.e=null;try{for(var i=0;i<u.length;i++){var o=u[i];rt(o.effect),et(o.reaction),pr(o.fn)}}finally{rt(r),et(n)}}A=e.p,e.m=!0}return{}}function _t(){return!Wt||A!==null&&A.l===null}function N(t,e){var r={f:0,v:t,reactions:null,equals:nr,rv:0,wv:0};return r}function De(t){return cn(N(t))}function Ee(t,e=!1){var n;const r=N(t);return e||(r.equals=ir),Wt&&A!==null&&A.l!==null&&((n=A.l).s??(n.s=[])).push(r),r}function cn(t){return g!==null&&!D&&(g.f&j)!==0&&(B===null?xn([t]):B.push(t)),t}function O(t,e){return g!==null&&!D&&_t()&&(g.f&(j|me))!==0&&(B===null||!B.includes(t))&&nn(),or(t,e)}function or(t,e){return t.equals(e)||(t.v,t.v=e,t.wv=Er(),ur(t,K),_t()&&w!==null&&(w.f&k)!==0&&(w.f&(G|pt))===0&&(Y===null?An([t]):Y.push(t))),e}function ur(t,e){var r=t.reactions;if(r!==null)for(var n=_t(),i=r.length,o=0;o<i;o++){var u=r[o],c=u.f;(c&K)===0&&(!n&&u===w||(V(u,e),(c&(k|q))!==0&&((c&j)!==0?ur(u,ft):Qt(u))))}}let vn=!1;function U(t,e=null,r){if(typeof t!="object"||t===null||Z in t)return t;const n=we(t);if(n!==Vr&&n!==Yr)return t;var i=new Map,o=ye(t),u=N(0);o&&i.set("length",N(t.length));var c;return new Proxy(t,{defineProperty(s,l,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&tn();var v=i.get(l);return v===void 0?(v=N(f.value),i.set(l,v)):O(v,U(f.value,c)),!0},deleteProperty(s,l){var f=i.get(l);if(f===void 0)l in s&&i.set(l,N(I));else{if(o&&typeof l=="string"){var v=i.get("length"),a=Number(l);Number.isInteger(a)&&a<v.v&&O(v,a)}O(f,I),Me(u)}return!0},get(s,l,f){var h;if(l===Z)return t;var v=i.get(l),a=l in s;if(v===void 0&&(!a||(h=st(s,l))!=null&&h.writable)&&(v=N(U(a?s[l]:I,c)),i.set(l,v)),v!==void 0){var d=E(v);return d===I?void 0:d}return Reflect.get(s,l,f)},getOwnPropertyDescriptor(s,l){var f=Reflect.getOwnPropertyDescriptor(s,l);if(f&&"value"in f){var v=i.get(l);v&&(f.value=E(v))}else if(f===void 0){var a=i.get(l),d=a==null?void 0:a.v;if(a!==void 0&&d!==I)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return f},has(s,l){var d;if(l===Z)return!0;var f=i.get(l),v=f!==void 0&&f.v!==I||Reflect.has(s,l);if(f!==void 0||w!==null&&(!v||(d=st(s,l))!=null&&d.writable)){f===void 0&&(f=N(v?U(s[l],c):I),i.set(l,f));var a=E(f);if(a===I)return!1}return v},set(s,l,f,v){var y;var a=i.get(l),d=l in s;if(o&&l==="length")for(var h=f;h<a.v;h+=1){var p=i.get(h+"");p!==void 0?O(p,I):h in s&&(p=N(I),i.set(h+"",p))}a===void 0?(!d||(y=st(s,l))!=null&&y.writable)&&(a=N(void 0),O(a,U(f,c)),i.set(l,a)):(d=a.v!==I,O(a,U(f,c)));var S=Reflect.getOwnPropertyDescriptor(s,l);if(S!=null&&S.set&&S.set.call(v,f),!d){if(o&&typeof l=="string"){var b=i.get("length"),_=Number(l);Number.isInteger(_)&&_>=b.v&&O(b,_+1)}Me(u)}return!0},ownKeys(s){E(u);var l=Reflect.ownKeys(s).filter(a=>{var d=i.get(a);return d===void 0||d.v!==I});for(var[f,v]of i)v.v!==I&&!(f in s)&&l.push(f);return l},setPrototypeOf(){en()}})}function Me(t,e=1){O(t,t.v+e)}function $e(t){return t!==null&&typeof t=="object"&&Z in t?t[Z]:t}function dn(t,e){return Object.is($e(t),$e(e))}var It,sr,lr,ar;function hn(){if(It===void 0){It=window,sr=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype;lr=st(e,"firstChild").get,ar=st(e,"nextSibling").get,t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function fr(t=""){return document.createTextNode(t)}function cr(t){return lr.call(t)}function Se(t){return ar.call(t)}function P(t,e){return cr(t)}function M(t,e=1,r=!1){let n=t;for(;e--;)n=Se(n);return n}function pn(t){t.textContent=""}function ct(t){var e=j|K,r=g!==null&&(g.f&j)!==0?g:null;return w===null||r!==null&&(r.f&q)!==0?e|=q:w.f|=rr,{ctx:A,deps:null,effects:null,equals:nr,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:r??w}}function _n(t){const e=ct(t);return e.equals=ir,e}function vr(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)W(e[r])}}function bn(t){for(var e=t.parent;e!==null;){if((e.f&j)===0)return e;e=e.parent}return null}function yn(t){var e,r=w;rt(bn(t));try{vr(t),e=xr(t)}finally{rt(r)}return e}function dr(t){var e=yn(t),r=(X||(t.f&q)!==0)&&t.deps!==null?ft:k;V(t,r),t.equals(e)||(t.v=e,t.wv=Er())}function hr(t){w===null&&g===null&&Xr(),g!==null&&(g.f&q)!==0&&w===null&&Qr(),Oe&&Jr()}function gn(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function vt(t,e,r,n=!0){var i=(t&pt)!==0,o=w,u={ctx:A,deps:null,nodes_start:null,nodes_end:null,f:t|K,first:null,fn:e,last:null,next:null,parent:i?null:o,prev:null,teardown:null,transitions:null,wv:0};if(r)try{Te(u),u.f|=Wr}catch(l){throw W(u),l}else e!==null&&Qt(u);var c=r&&u.deps===null&&u.first===null&&u.nodes_start===null&&u.teardown===null&&(u.f&(rr|Tt))===0;if(!c&&!i&&n&&(o!==null&&gn(u,o),g!==null&&(g.f&j)!==0)){var s=g;(s.effects??(s.effects=[])).push(u)}return u}function xe(t){const e=vt(Vt,null,!1);return V(e,k),e.teardown=t,e}function je(t){hr();var e=w!==null&&(w.f&G)!==0&&A!==null&&!A.m;if(e){var r=A;(r.e??(r.e=[])).push({fn:t,effect:w,reaction:g})}else{var n=pr(t);return n}}function wn(t){return hr(),Ae(t)}function mn(t){const e=vt(pt,t,!0);return(r={})=>new Promise(n=>{r.outro?Ct(e,()=>{W(e),n(void 0)}):(W(e),n(void 0))})}function pr(t){return vt(er,t,!1)}function Ae(t){return vt(Vt,t,!0)}function lt(t,e=[],r=ct){const n=e.map(r);return zt(()=>t(...n.map(E)))}function zt(t,e=0){return vt(Vt|me|e,t,!0)}function at(t,e=!0){return vt(Vt|G,t,!0,e)}function _r(t){var e=t.teardown;if(e!==null){const r=Oe,n=g;Le(!0),et(null);try{e.call(null)}finally{Le(r),et(n)}}}function br(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var n=r.next;W(r,e),r=n}}function En(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&G)===0&&W(e),e=r}}function W(t,e=!0){var r=!1;if((e||(t.f&Gr)!==0)&&t.nodes_start!==null){for(var n=t.nodes_start,i=t.nodes_end;n!==null;){var o=n===i?null:Se(n);n.remove(),n=o}r=!0}br(t,e&&!r),Dt(t,0),V(t,Yt);var u=t.transitions;if(u!==null)for(const s of u)s.stop();_r(t);var c=t.parent;c!==null&&c.first!==null&&yr(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function yr(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function Ct(t,e){var r=[];Pe(t,r,!0),gr(r,()=>{W(t),e&&e()})}function gr(t,e){var r=t.length;if(r>0){var n=()=>--r||e();for(var i of t)i.out(n)}else e()}function Pe(t,e,r){if((t.f&H)===0){if(t.f^=H,t.transitions!==null)for(const u of t.transitions)(u.is_global||r)&&e.push(u);for(var n=t.first;n!==null;){var i=n.next,o=(n.f&Ht)!==0||(n.f&G)!==0;Pe(n,e,o?r:!1),n=i}}}function Nt(t){wr(t,!0)}function wr(t,e){if((t.f&H)!==0){t.f^=H,(t.f&k)===0&&(t.f^=k),bt(t)&&(V(t,K),Qt(t));for(var r=t.first;r!==null;){var n=r.next,i=(r.f&Ht)!==0||(r.f&G)!==0;wr(r,i?e:!1),r=n}if(t.transitions!==null)for(const o of t.transitions)(o.is_global||e)&&o.in()}}let Rt=[];function Sn(){var t=Rt;Rt=[],ue(t)}function se(t){Rt.length===0&&queueMicrotask(Sn),Rt.push(t)}let Et=!1,le=!1,qt=null,St=!1,Oe=!1;function Le(t){Oe=t}let xt=[];let g=null,D=!1;function et(t){g=t}let w=null;function rt(t){w=t}let B=null;function xn(t){B=t}let T=null,C=0,Y=null;function An(t){Y=t}let mr=1,Ft=0,X=!1;function Er(){return++mr}function bt(t){var v;var e=t.f;if((e&K)!==0)return!0;if((e&ft)!==0){var r=t.deps,n=(e&q)!==0;if(r!==null){var i,o,u=(e&kt)!==0,c=n&&w!==null&&!X,s=r.length;if(u||c){var l=t,f=l.parent;for(i=0;i<s;i++)o=r[i],(u||!((v=o==null?void 0:o.reactions)!=null&&v.includes(l)))&&(o.reactions??(o.reactions=[])).push(l);u&&(l.f^=kt),c&&f!==null&&(f.f&q)===0&&(l.f^=q)}for(i=0;i<s;i++)if(o=r[i],bt(o)&&dr(o),o.wv>t.wv)return!0}(!n||w!==null&&!X)&&V(t,k)}return!1}function Pn(t,e){for(var r=e;r!==null;){if((r.f&Tt)!==0)try{r.fn(t);return}catch{r.f^=Tt}r=r.parent}throw Et=!1,t}function On(t){return(t.f&Yt)===0&&(t.parent===null||(t.parent.f&Tt)===0)}function Jt(t,e,r,n){if(Et){if(r===null&&(Et=!1),On(e))throw t;return}r!==null&&(Et=!0);{Pn(t,e);return}}function Sr(t,e,r=!0){var n=t.reactions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];(o.f&j)!==0?Sr(o,e,!1):e===o&&(r?V(o,K):(o.f&k)!==0&&V(o,ft),Qt(o))}}function xr(t){var d;var e=T,r=C,n=Y,i=g,o=X,u=B,c=A,s=D,l=t.f;T=null,C=0,Y=null,X=(l&q)!==0&&(D||!St||g===null),g=(l&(G|pt))===0?t:null,B=null,Fe(t.ctx),D=!1,Ft++;try{var f=(0,t.fn)(),v=t.deps;if(T!==null){var a;if(Dt(t,C),v!==null&&C>0)for(v.length=C+T.length,a=0;a<T.length;a++)v[C+a]=T[a];else t.deps=v=T;if(!X)for(a=C;a<v.length;a++)((d=v[a]).reactions??(d.reactions=[])).push(t)}else v!==null&&C<v.length&&(Dt(t,C),v.length=C);if(_t()&&Y!==null&&!D&&v!==null&&(t.f&(j|ft|K))===0)for(a=0;a<Y.length;a++)Sr(Y[a],t);return i!==null&&Ft++,f}finally{T=e,C=r,Y=n,g=i,X=o,B=u,Fe(c),D=s}}function Tn(t,e){let r=e.reactions;if(r!==null){var n=Br.call(r,t);if(n!==-1){var i=r.length-1;i===0?r=e.reactions=null:(r[n]=r[i],r.pop())}}r===null&&(e.f&j)!==0&&(T===null||!T.includes(e))&&(V(e,ft),(e.f&(q|kt))===0&&(e.f^=kt),vr(e),Dt(e,0))}function Dt(t,e){var r=t.deps;if(r!==null)for(var n=e;n<r.length;n++)Tn(t,r[n])}function Te(t){var e=t.f;if((e&Yt)===0){V(t,k);var r=w,n=A,i=St;w=t,St=!0;try{(e&me)!==0?En(t):br(t),_r(t);var o=xr(t);t.teardown=typeof o=="function"?o:null,t.wv=mr;var u=t.deps,c;qe&&on&&t.f&K}catch(s){Jt(s,t,r,n||t.ctx)}finally{St=i,w=r}}}function kn(){try{Zr()}catch(t){if(qt!==null)Jt(t,qt,null);else throw t}}function In(){try{for(var t=0;xt.length>0;){t++>1e3&&kn();var e=xt,r=e.length;xt=[];for(var n=0;n<r;n++){var i=e[n];(i.f&k)===0&&(i.f^=k);var o=Nn(i);Cn(o)}}}finally{le=!1,qt=null}}function Cn(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var n=t[r];if((n.f&(Yt|H))===0)try{bt(n)&&(Te(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?yr(n):n.fn=null))}catch(i){Jt(i,n,null,n.ctx)}}}function Qt(t){le||(le=!0,queueMicrotask(In));for(var e=qt=t;e.parent!==null;){e=e.parent;var r=e.f;if((r&(pt|G))!==0){if((r&k)===0)return;e.f^=k}}xt.push(e)}function Nn(t){for(var e=[],r=t.first;r!==null;){var n=r.f,i=(n&G)!==0,o=i&&(n&k)!==0;if(!o&&(n&H)===0){if((n&er)!==0)e.push(r);else if(i)r.f^=k;else{var u=g;try{g=r,bt(r)&&Te(r)}catch(l){Jt(l,r,null,r.ctx)}finally{g=u}}var c=r.first;if(c!==null){r=c;continue}}var s=r.parent;for(r=r.next;r===null&&s!==null;)r=s.next,s=s.parent}return e}function E(t){var e=t.f,r=(e&j)!==0;if(g!==null&&!D){B!==null&&B.includes(t)&&rn();var n=g.deps;t.rv<Ft&&(t.rv=Ft,T===null&&n!==null&&n[C]===t?C++:T===null?T=[t]:(!X||!T.includes(t))&&T.push(t))}else if(r&&t.deps===null&&t.effects===null){var i=t,o=i.parent;o!==null&&(o.f&q)===0&&(i.f^=q)}return r&&(i=t,bt(i)&&dr(i)),t.v}function R(t){var e=D;try{return D=!0,t()}finally{D=e}}const Rn=-7169;function V(t,e){t.f=t.f&Rn|e}function qn(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Z in t)ae(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&Z in r&&ae(r)}}}function ae(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{ae(t[n],e)}catch{}const r=we(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=tr(r);for(let i in n){const o=n[i].get;if(o)try{o.call(t)}catch{}}}}}const Fn=["touchstart","touchmove"];function Dn(t){return Fn.includes(t)}let Ue=!1;function Mn(){Ue||(Ue=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const r of t.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function Ar(t){var e=g,r=w;et(null),rt(null);try{return t()}finally{et(e),rt(r)}}function Pr(t,e,r,n=r){t.addEventListener(e,()=>Ar(r));const i=t.__on_r;i?t.__on_r=()=>{i(),n(!0)}:t.__on_r=()=>n(!0),Mn()}const Or=new Set,fe=new Set;function $n(t,e,r,n={}){function i(o){if(n.capture||ht.call(e,o),!o.cancelBubble)return Ar(()=>r==null?void 0:r.call(this,o))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?se(()=>{e.addEventListener(t,i,n)}):e.addEventListener(t,i,n),i}function Mt(t,e,r,n,i){var o={capture:n,passive:i},u=$n(t,e,r,o);(e===document.body||e===window||e===document)&&xe(()=>{e.removeEventListener(t,u,o)})}function Tr(t){for(var e=0;e<t.length;e++)Or.add(t[e]);for(var r of fe)r(t)}function ht(t){var _;var e=this,r=e.ownerDocument,n=t.type,i=((_=t.composedPath)==null?void 0:_.call(t))||[],o=i[0]||t.target,u=0,c=t.__root;if(c){var s=i.indexOf(c);if(s!==-1&&(e===document||e===window)){t.__root=e;return}var l=i.indexOf(e);if(l===-1)return;s<=l&&(u=s)}if(o=i[u]||t.target,o!==e){Ze(t,"currentTarget",{configurable:!0,get(){return o||r}});var f=g,v=w;et(null),rt(null);try{for(var a,d=[];o!==null;){var h=o.assignedSlot||o.parentNode||o.host||null;try{var p=o["__"+n];if(p!==void 0&&(!o.disabled||t.target===o))if(ye(p)){var[S,...b]=p;S.apply(o,[t,...b])}else p.call(o,t)}catch(y){a?d.push(y):a=y}if(t.cancelBubble||h===e||h===null)break;o=h}if(a){for(let y of d)queueMicrotask(()=>{throw y});throw a}}finally{t.__root=e,delete t.currentTarget,et(f),rt(v)}}}function jn(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function Ln(t,e){var r=w;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function nt(t,e){var r=(e&fn)!==0,n,i=!t.startsWith("<!>");return()=>{n===void 0&&(n=jn(i?t:"<!>"+t),n=cr(n));var o=r||sr?document.importNode(n,!0):n.cloneNode(!0);return Ln(o,o),o}}function tt(t,e){t!==null&&t.before(e)}function At(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function Un(t,e){return Bn(t,e)}const ut=new Map;function Bn(t,{target:e,anchor:r,props:n={},events:i,context:o,intro:u=!0}){hn();var c=new Set,s=v=>{for(var a=0;a<v.length;a++){var d=v[a];if(!c.has(d)){c.add(d);var h=Dn(d);e.addEventListener(d,ht,{passive:h});var p=ut.get(d);p===void 0?(document.addEventListener(d,ht,{passive:h}),ut.set(d,1)):ut.set(d,p+1)}}};s(ge(Or)),fe.add(s);var l=void 0,f=mn(()=>{var v=r??e.appendChild(fr());return at(()=>{if(o){Gt({});var a=A;a.c=o}i&&(n.$$events=i),l=t(v,n)||{},o&&Kt()}),()=>{var h;for(var a of c){e.removeEventListener(a,ht);var d=ut.get(a);--d===0?(document.removeEventListener(a,ht),ut.delete(a)):ut.set(a,d)}fe.delete(s),v!==r&&((h=v.parentNode)==null||h.removeChild(v))}});return Vn.set(l,f),l}let Vn=new WeakMap;function kr(t,e,r=!1){var n=t,i=null,o=null,u=I,c=r?Ht:0,s=!1;const l=(v,a=!0)=>{s=!0,f(a,v)},f=(v,a)=>{u!==(u=v)&&(u?(i?Nt(i):a&&(i=at(()=>a(n))),o&&Ct(o,()=>{o=null})):(o?Nt(o):a&&(o=at(()=>a(n))),i&&Ct(i,()=>{i=null})))};zt(()=>{s=!1,e(l),s||f(null,null)},c)}function Yn(t,e){return e}function Hn(t,e,r,n){for(var i=[],o=e.length,u=0;u<o;u++)Pe(e[u].e,i,!0);var c=o>0&&i.length===0&&r!==null;if(c){var s=r.parentNode;pn(s),s.append(r),n.clear(),Q(t,e[0].prev,e[o-1].next)}gr(i,()=>{for(var l=0;l<o;l++){var f=e[l];c||(n.delete(f.k),Q(t,f.prev,f.next)),W(f.e,!c)}})}function Wn(t,e,r,n,i,o=null){var u=t,c={flags:e,items:new Map,first:null};{var s=t;u=s.appendChild(fr())}var l=null,f=!1,v=_n(()=>{var a=r();return ye(a)?a:a==null?[]:ge(a)});zt(()=>{var a=E(v),d=a.length;f&&d===0||(f=d===0,Gn(a,c,u,i,e,n,r),o!==null&&(d===0?l?Nt(l):l=at(()=>o(u)):l!==null&&Ct(l,()=>{l=null})),E(v))})}function Gn(t,e,r,n,i,o,u){var c=t.length,s=e.items,l=e.first,f=l,v,a=null,d=[],h=[],p,S,b,_;for(_=0;_<c;_+=1){if(p=t[_],S=o(p,_),b=s.get(S),b===void 0){var y=f?f.e.nodes_start:r;a=zn(y,e,a,a===null?e.first:a.next,p,S,_,n,i,u),s.set(S,a),d=[],h=[],f=a.next;continue}if(Kn(b,p,_),(b.e.f&H)!==0&&Nt(b.e),b!==f){if(v!==void 0&&v.has(b)){if(d.length<h.length){var m=h[0],x;a=m.prev;var F=d[0],J=d[d.length-1];for(x=0;x<d.length;x+=1)Be(d[x],m,r);for(x=0;x<h.length;x+=1)v.delete(h[x]);Q(e,F.prev,J.next),Q(e,a,F),Q(e,J,m),f=m,a=J,_-=1,d=[],h=[]}else v.delete(b),Be(b,f,r),Q(e,b.prev,b.next),Q(e,b,a===null?e.first:a.next),Q(e,a,b),a=b;continue}for(d=[],h=[];f!==null&&f.k!==S;)(f.e.f&H)===0&&(v??(v=new Set)).add(f),h.push(f),f=f.next;if(f===null)continue;b=f}d.push(b),a=b,f=b.next}if(f!==null||v!==void 0){for(var L=v===void 0?[]:ge(v);f!==null;)(f.e.f&H)===0&&L.push(f),f=f.next;var Zt=L.length;if(Zt>0){var Ne=c===0?r:null;Hn(e,L,Ne,s)}}w.first=e.first&&e.first.e,w.last=a&&a.e}function Kn(t,e,r,n){or(t.v,e),t.i=r}function zn(t,e,r,n,i,o,u,c,s,l){var f=(s&sn)!==0,v=(s&an)===0,a=f?v?Ee(i):N(i):i,d=(s&ln)===0?u:N(u),h={i:d,v:a,k:o,a:null,e:null,prev:r,next:n};try{return h.e=at(()=>c(t,a,d,l),vn),h.e.prev=r&&r.e,h.e.next=n&&n.e,r===null?e.first=h:(r.next=h,r.e.next=h.e),n!==null&&(n.prev=h,n.e.prev=h.e),h}finally{}}function Be(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,i=e?e.e.nodes_start:r,o=t.e.nodes_start;o!==n;){var u=Se(o);i.before(o),o=u}}function Q(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function Jn(t,e,...r){var n=t,i=Ot,o;zt(()=>{i!==(i=e())&&(o&&(W(o),o=null),o=at(()=>i(n,...r)))},Ht)}function Qn(t,e){var r=t.__attributes??(t.__attributes={});r.checked!==(r.checked=e??void 0)&&(t.checked=e)}function ce(t,e,r,n){var i=t.__attributes??(t.__attributes={});i[e]!==(i[e]=r)&&(r==null?t.removeAttribute(e):typeof r!="string"&&Xn(t).includes(e)?t[e]=r:t.setAttribute(e,r))}var Ve=new Map;function Xn(t){var e=Ve.get(t.nodeName);if(e)return e;Ve.set(t.nodeName,e=[]);for(var r,n=t,i=Element.prototype;i!==n;){r=tr(n);for(var o in r)r[o].set&&e.push(o);n=we(n)}return e}function $t(t,e,r=e){var n=_t();Pr(t,"input",i=>{var o=i?t.defaultValue:t.value;if(o=ee(t)?re(o):o,r(o),n&&o!==(o=e())){var u=t.selectionStart,c=t.selectionEnd;t.value=o??"",c!==null&&(t.selectionStart=u,t.selectionEnd=Math.min(c,t.value.length))}}),R(e)==null&&t.value&&r(ee(t)?re(t.value):t.value),Ae(()=>{var i=e();ee(t)&&i===re(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}const te=new Set;function Zn(t,e,r,n,i=n){var o=r.getAttribute("type")==="checkbox",u=t;if(e!==null)for(var c of e)u=u[c]??(u[c]=[]);u.push(r),Pr(r,"change",()=>{var s=r.__value;o&&(s=ti(u,s,r.checked)),i(s)},()=>i(o?[]:null)),Ae(()=>{var s=n();o?(s=s||[],r.checked=s.includes(r.__value)):r.checked=dn(r.__value,s)}),xe(()=>{var s=u.indexOf(r);s!==-1&&u.splice(s,1)}),te.has(u)||(te.add(u),se(()=>{u.sort((s,l)=>s.compareDocumentPosition(l)===4?-1:1),te.delete(u)})),se(()=>{})}function ti(t,e,r){for(var n=new Set,i=0;i<t.length;i+=1)t[i].checked&&n.add(t[i].__value);return r||n.delete(e),Array.from(n)}function ee(t){var e=t.type;return e==="number"||e==="range"}function re(t){return t===""?null:+t}function ei(t=!1){const e=A,r=e.l.u;if(!r)return;let n=()=>qn(e.s);if(t){let i=0,o={};const u=ct(()=>{let c=!1;const s=e.s;for(const l in s)s[l]!==o[l]&&(o[l]=s[l],c=!0);return c&&i++,i});n=()=>E(u)}r.b.length&&wn(()=>{Ye(e,n),ue(r.b)}),je(()=>{const i=R(()=>r.m.map(Hr));return()=>{for(const o of i)typeof o=="function"&&o()}}),r.a.length&&je(()=>{Ye(e,n),ue(r.a)})}function Ye(t,e){if(t.l.s)for(const r of t.l.s)E(r);e()}function Ir(t,e,r){if(t==null)return e(void 0),Ot;const n=R(()=>t.subscribe(e,r));return n.unsubscribe?()=>n.unsubscribe():n}function ri(t){let e;return Ir(t,r=>e=r)(),e}let gt=!1,ve=Symbol();function de(t,e,r){const n=r[e]??(r[e]={store:null,source:Ee(void 0),unsubscribe:Ot});if(n.store!==t&&!(ve in r))if(n.unsubscribe(),n.store=t??null,t==null)n.source.v=void 0,n.unsubscribe=Ot;else{var i=!0;n.unsubscribe=Ir(t,o=>{i?n.source.v=o:O(n.source,o)}),i=!1}return t&&ve in r?ri(t):E(n.source)}function ni(t,e){return t.set(e),e}function Cr(){const t={};function e(){xe(()=>{for(var r in t)t[r].unsubscribe();Ze(t,ve,{enumerable:!1,value:!0})})}return[t,e]}function jt(t,e,r){return t.set(r),e}function ii(t){var e=gt;try{return gt=!1,[t(),gt]}finally{gt=e}}function ne(t,e,r,n){var b;var i=!1,o;[o,i]=ii(()=>t[e]);var u=Z in t||Kr in t,c=(((b=st(t,e))==null?void 0:b.set)??(u&&e in t&&(_=>t[e]=_)))||void 0,s=n,l=!0,f=!1,v=()=>(f=!0,l&&(l=!1,s=n),s),a;if(a=()=>{var _=t[e];return _===void 0?v():(l=!0,f=!1,_)},c){var d=t.$$legacy;return function(_,y){return arguments.length>0?((!y||d||i)&&c(y?a():_),_):a()}}var h=!1,p=Ee(o),S=ct(()=>{var _=a(),y=E(p);return h?(h=!1,y):p.v=_});return function(_,y){if(arguments.length>0){const m=y?E(S):U(_);return S.equals(m)||(h=!0,O(p,m),f&&s!==void 0&&(s=m),R(()=>E(S))),_}return E(S)}}const oi="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(oi);un();const Nr=t=>e=>r=>{t(r),e==null||e(r)},ui=Nr(t=>t.preventDefault()),si=Nr(t=>t.stopPropagation());var he=function(t,e){return he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},he(t,e)};function z(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");he(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function pe(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lt(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],u;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(c){u={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return o}function Ut(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function $(t){return typeof t=="function"}function Rr(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var ie=Rr(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function Bt(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var yt=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,i,o;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var c=pe(u),s=c.next();!s.done;s=c.next()){var l=s.value;l.remove(this)}}catch(p){e={error:p}}finally{try{s&&!s.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}else u.remove(this);var f=this.initialTeardown;if($(f))try{f()}catch(p){o=p instanceof ie?p.errors:[p]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var a=pe(v),d=a.next();!d.done;d=a.next()){var h=d.value;try{He(h)}catch(p){o=o??[],p instanceof ie?o=Ut(Ut([],Lt(o)),Lt(p.errors)):o.push(p)}}}catch(p){n={error:p}}finally{try{d&&!d.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}}if(o)throw new ie(o)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)He(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&Bt(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&Bt(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),qr=yt.EMPTY;function Fr(t){return t instanceof yt||t&&"closed"in t&&$(t.remove)&&$(t.add)&&$(t.unsubscribe)}function He(t){$(t)?t():t.unsubscribe()}var li={Promise:void 0},ai={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,Ut([t,e],Lt(r)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function fi(t){ai.setTimeout(function(){throw t})}function We(){}function Pt(t){t()}var ke=function(t){z(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,Fr(r)&&r.add(n)):n.destination=di,n}return e.create=function(r,n,i){return new _e(r,n,i)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(yt),ci=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){wt(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){wt(n)}else wt(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){wt(r)}},t}(),_e=function(t){z(e,t);function e(r,n,i){var o=t.call(this)||this,u;return $(r)||!r?u={next:r??void 0,error:n??void 0,complete:i??void 0}:u=r,o.destination=new ci(u),o}return e}(ke);function wt(t){fi(t)}function vi(t){throw t}var di={closed:!0,next:We,error:vi,complete:We},hi=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Dr(t){return t}function pi(t){return t.length===0?Dr:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var Ge=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this,o=bi(e)?e:new _e(e,r,n);return Pt(function(){var u=i,c=u.operator,s=u.source;o.add(c?c.call(o,s):s?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Ke(r),new r(function(i,o){var u=new _e({next:function(c){try{e(c)}catch(s){o(s),u.unsubscribe()}},error:o,complete:i});n.subscribe(u)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[hi]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return pi(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Ke(e),new e(function(n,i){var o;r.subscribe(function(u){return o=u},function(u){return i(u)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();function Ke(t){var e;return(e=t??li.Promise)!==null&&e!==void 0?e:Promise}function _i(t){return t&&$(t.next)&&$(t.error)&&$(t.complete)}function bi(t){return t&&t instanceof ke||_i(t)&&Fr(t)}function yi(t){return $(t==null?void 0:t.lift)}function Ie(t){return function(e){if(yi(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(t,e,r,n,i){return new gi(t,e,r,n,i)}var gi=function(t){z(e,t);function e(r,n,i,o,u,c){var s=t.call(this,r)||this;return s.onFinalize=u,s.shouldUnsubscribe=c,s._next=n?function(l){try{n(l)}catch(f){r.error(f)}}:t.prototype._next,s._error=o?function(l){try{o(l)}catch(f){r.error(f)}finally{this.unsubscribe()}}:t.prototype._error,s._complete=i?function(){try{i()}catch(l){r.error(l)}finally{this.unsubscribe()}}:t.prototype._complete,s}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(ke),wi=Rr(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Mr=function(t){z(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new ze(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new wi},e.prototype.next=function(r){var n=this;Pt(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var u=pe(n.currentObservers),c=u.next();!c.done;c=u.next()){var s=c.value;s.next(r)}}catch(l){i={error:l}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}})},e.prototype.error=function(r){var n=this;Pt(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},e.prototype.complete=function(){var r=this;Pt(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,i=this,o=i.hasError,u=i.isStopped,c=i.observers;return o||u?qr:(this.currentObservers=null,c.push(r),new yt(function(){n.currentObservers=null,Bt(c,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n.thrownError,u=n.isStopped;i?r.error(o):u&&r.complete()},e.prototype.asObservable=function(){var r=new Ge;return r.source=this,r},e.create=function(r,n){return new ze(r,n)},e}(Ge),ze=function(t){z(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},e.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:qr},e}(Mr),mi=function(t){z(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){var r=this,n=r.hasError,i=r.thrownError,o=r._value;if(n)throw i;return this._throwIfClosed(),o},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(Mr),Ei={now:function(){return Date.now()}},Si=function(t){z(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(yt),Je={setInterval:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setInterval.apply(void 0,Ut([t,e],Lt(r)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},xi=function(t){z(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var o=this.id,u=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(u,o,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(u,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),Je.setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Je.clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,o;try{this.work(r)}catch(u){i=!0,o=u||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Bt(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(Si),Qe=function(){function t(e,r){r===void 0&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,e).schedule(n,r)},t.now=Ei.now,t}(),Ai=function(t){z(e,t);function e(r,n){n===void 0&&(n=Qe.now);var i=t.call(this,r,n)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var i;this._active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(Qe),Pi=new Ai(xi);function Oi(t,e){return Ie(function(r,n){var i=0;r.subscribe(Ce(n,function(o){n.next(t.call(e,o,i++))}))})}function Ti(t,e){return e===void 0&&(e=Pi),Ie(function(r,n){var i=null,o=null,u=null,c=function(){if(i){i.unsubscribe(),i=null;var l=o;o=null,n.next(l)}};function s(){var l=u+t,f=e.now();if(f<l){i=this.schedule(void 0,l-f),n.add(i);return}c()}r.subscribe(Ce(n,function(l){o=l,u=e.now(),i||(i=e.schedule(s,t),n.add(i))},function(){c(),n.complete()},void 0,function(){o=i=null}))})}function ki(t,e,r){var n=$(t)||e||r?{next:t,error:e,complete:r}:t;return n?Ie(function(i,o){var u;(u=n.subscribe)===null||u===void 0||u.call(n);var c=!0;i.subscribe(Ce(o,function(s){var l;(l=n.next)===null||l===void 0||l.call(n,s),o.next(s)},function(){var s;c=!1,(s=n.complete)===null||s===void 0||s.call(n),o.complete()},function(s){var l;c=!1,(l=n.error)===null||l===void 0||l.call(n,s),o.error(s)},function(){var s,l;c&&((s=n.unsubscribe)===null||s===void 0||s.call(n)),(l=n.finalize)===null||l===void 0||l.call(n)}))}):Dr}class Ii{constructor(e){ot(this,"STORAGE_NAME");ot(this,"storage");this.STORAGE_NAME=e,this.storage=new Proxy(JSON.parse(localStorage.getItem(this.STORAGE_NAME)||"{}"),{set:(...r)=>{const n=Reflect.set(...r);return n&&this.update(),n}})}update(){localStorage.setItem(this.STORAGE_NAME,JSON.stringify(this.storage))}}class be extends mi{set(e){super.next(e)}update(e){super.next(e(super.value))}}const Xe=[{id:1,name:"Apples",price:1.99,quantity:.5},{id:2,name:"Bread",price:.99,quantity:1},{id:3,name:"Canned beans",price:1.2,quantity:4},{id:4,name:"Soap",price:.79,quantity:2}];class Ci{constructor(e){ot(this,"idCount$");ot(this,"products$");ot(this,"totalPrice$");this.storageService=e,this.idCount$=new be(this.storageService.storage.idCount||Xe.length+1),this.products$=new be(this.storageService.storage.products||Xe),this.totalPrice$=this.products$.pipe(ki(r=>{e.storage.products=r}),Oi(r=>r.reduce((n,i)=>n+Number((i.price*i.quantity).toFixed(2)),0))),this.idCount$.subscribe(r=>{e.storage.idCount=r})}addProduct(e,r){this.idCount$.update(n=>n+1),this.products$.update(n=>[...n,{id:this.idCount$.value,name:e,quantity:1,price:r}])}removeProducts(e){e.length&&this.products$.update(r=>r.filter(n=>!e.includes(n.id)))}}const $r=new Ii("receipt-storage"),Xt=new Ci($r),oe=Xt.products$,Ni=Xt.totalPrice$;class Ri{constructor(e){ot(this,"newProduct$");this.storageService=e,this.newProduct$=new be(this.storageService.storage.newProduct||{name:"",price:0}),this.newProduct$.pipe(Ti(500)).subscribe(r=>{e.storage.newProduct=r})}}const qi=new Ri($r),mt=qi.newProduct$;var Fi=nt('<form class="add-product"><label>Item name: <input type="text" name="product"></label> <label>Price: <input type="number" name="price" min="0" step="0.01"></label> <button>Add</button></form>');function Di(t,e){Gt(e,!1);const[r,n]=Cr(),i=()=>de(mt,"$newProduct",r),o=()=>{const a=i().name.trim();a&&(Xt.addProduct(a,i().price),ni(mt,{name:"",price:0}))};ei();var u=Fi(),c=ct(()=>ui(o)),s=P(u),l=M(P(s)),f=M(s,2),v=M(P(f));Mt("submit",u,function(...a){var d;(d=E(c))==null||d.apply(this,a)}),$t(l,()=>i().name,a=>jt(mt,R(i).name=a,R(i))),$t(v,()=>i().price,a=>jt(mt,R(i).price=a,R(i))),tt(t,u),Kt(),n()}var Mi=nt('<input type="number" min="0" step="0.01">'),$i=(t,e,r)=>e(r.id),ji=nt('<button title="Edit price"> </button>'),Li=nt('<tr><td><!></td><td> </td><td class="quantity"><input type="number" min="0"></td><td class="price"><!></td><td class="amount"> </td></tr>');function Ui(t,e){Gt(e,!0);let r=ne(e,"price"),n=ne(e,"quantity"),i=ne(e,"priceEditId");var o=Li(),u=P(o),c=P(u);Jn(c,()=>e.checkbox);var s=M(u),l=P(s),f=M(s),v=P(f),a=M(f),d=ct(si);a.__click=function(...y){var m;(m=E(d))==null||m.apply(this,y)};var h=P(a);{var p=y=>{var m=Mi();lt(()=>ce(m,"name",`price-${e.id}`)),Mt("blur",m,()=>i(-1)),$t(m,r),tt(y,m)},S=y=>{var m=ji();m.__click=[$i,i,e];var x=P(m);lt(F=>At(x,`$ ${F??""}`),[()=>r().toFixed(2)]),tt(y,m)};kr(h,y=>{i()===e.id?y(p):y(S,!1)})}var b=M(a),_=P(b);lt(y=>{At(l,e.name),ce(v,"name",`quantity-${e.id}`),At(_,`$ ${y??""}`)},[()=>(r()*n()).toFixed(2)]),$t(v,n),tt(t,o),Kt()}Tr(["click"]);const Bi=(t,e)=>{Xt.removeProducts(E(e)),O(e,U([]))},Vi=(t,e,r)=>{O(e,U(t.currentTarget.checked?r().map(n=>n.id):[]))};var Yi=nt('<input type="checkbox" name="all">'),Hi=nt('<input type="checkbox">'),Wi=nt('<div><table class="receipt"><thead><tr><th class="check-all"><!></th><th>Item</th><th>Quantity</th><th>Price</th><th>Amount</th></tr></thead><tbody></tbody></table> <div class="total"><button>Remove selected</button> <p> </p></div></div>');function Gi(t,e){Gt(e,!0);const[r,n]=Cr(),i=()=>de(oe,"$productsStore",r),o=()=>de(Ni,"$productsTotal",r),u=[];let c=De(U([])),s=De(-1);var l=Wi();Mt("keydown",It,x=>{switch(x.key){case"Escape":case"Enter":O(s,-1);break}}),Mt("click",It,()=>O(s,-1));var f=P(l),v=P(f),a=P(v),d=P(a),h=P(d);{var p=x=>{var F=Yi();F.__change=[Vi,c,i],lt(()=>Qn(F,i().length===E(c).length)),tt(x,F)};kr(h,x=>{i().length&&x(p)})}var S=M(v);Wn(S,5,i,Yn,(x,F,J)=>{let L=()=>E(F).id,Zt=()=>E(F).name;Ui(x,{get id(){return L()},get name(){return Zt()},checkbox:it=>{var dt=Hi(),Re;lt(()=>{ce(dt,"name",`select-${L()}`),Re!==(Re=L())&&(dt.value=(dt.__value=L())==null?"":L())}),Zn(u,[],dt,()=>(L(),E(c)),jr=>O(c,jr)),tt(it,dt)},get price(){return i()[J].price},set price(it){jt(oe,R(i)[J].price=it,R(i))},get quantity(){return i()[J].quantity},set quantity(it){jt(oe,R(i)[J].quantity=it,R(i))},get priceEditId(){return E(s)},set priceEditId(it){O(s,U(it))}})});var b=M(f,2),_=P(b);_.__click=[Bi,c];var y=M(_,2),m=P(y);lt(x=>At(m,`Total: $ ${x??""}`),[()=>(o()||0).toFixed(2)]),tt(t,l),Kt(),n()}Tr(["change","click"]);var Ki=nt('<main class="container"><!> <!></main>');function zi(t){var e=Ki(),r=P(e);Gi(r,{});var n=M(r,2);Di(n,{}),tt(t,e)}Un(zi,{target:document.getElementById("app")});
